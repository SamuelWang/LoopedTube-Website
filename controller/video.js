(function(a){var d=a("#content");a("#player-funcs",d).find(".fa-repeat").addClass(loopedtube.isLoop?"active":null).on("click",function(){loopedtube.toggleButtonActive(a(this),function(){loopedtube.isLoop=!0},function(){loopedtube.isLoop=!1})}).end().find(".fa-arrows-h").on("click",function(){loopedtube.toggleButtonActive(a(this),function(){a("#time-interval").show()},function(){a("#time-interval").hide()})}).end().find(".fa-music").addClass(loopedtube.musicMode?"active":null).on("click",function(){loopedtube.toggleButtonActive(a(this),
function(){loopedtube.musicMode=!0;loopedtube.player&&-1<loopedtube.player.getPlayerState()&&loopedtube.player.setPlaybackQuality("small")},function(){loopedtube.musicMode=!1;loopedtube.player&&-1<loopedtube.player.getPlayerState()&&loopedtube.player.setPlaybackQuality("default")})});a("#time-interval",d).hide().on("change",function(c){a(this);c=a(c.target);var d=c.attr("id"),b=c.val();if(/(\d{1,2}):?(\d{1,2}):?(\d{1,2})/.test(b)){if(b=a.timeToSecond(b),0<b){switch(d){case "starttime":if(b>loopedtube.currentVideo.duration){loopedtube.showMessage("\u958b\u59cb\u6642\u9593\u4e0d\u53ef\u5927\u65bc\u5f71\u97f3\u7e3d\u9577\u5ea6\u3002",
"warning");c.val(a.secondToTime(0));return}loopedtube.currentVideo.startTime=b;5<b-loopedtube.player.getCurrentTime()&&loopedtube.player.seekTo(b);break;case "endtime":if(b>loopedtube.currentVideo.duration){loopedtube.showMessage("\u7d50\u675f\u6642\u9593\u4e0d\u53ef\u5927\u65bc\u5f71\u97f3\u7e3d\u9577\u5ea6\u3002","warning");c.val(a.secondToTime(loopedtube.currentVideo.duration));return}loopedtube.currentVideo.endTime=b}c.val(a.secondToTime(b));loopedtube.addRecentVideo(loopedtube.currentVideo)}}else loopedtube.showMessage("\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u6642\u9593\u683c\u5f0f\u3002",
"error")});a("#recent-list .list-view-header-trash").on("click",function(){localStorage.clear();loopedtube.renderVideoList(a("#recent-list"),null,!0)});loopedtube.cuedVideo||a("#player-content").hide();loopedtube.renderVideoList(a("#recent-list",d),loopedtube.getRecentVideoList(),!0)})(jQuery);